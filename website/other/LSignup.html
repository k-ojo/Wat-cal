<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./LSignupIndex.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap"
    />
    <title>Signup</title>
  </head>
  <body>
    <div class="sign-up-page-desktop">
      <section class="content-container-wrapper">
        <div class="content-container">
          <div class="navbar-wrapper">
            <div class="navbar">
              <div class="logo-container-wrapper">
                <div class="logo-container">
                  <img class="logo-icon" alt="" src="./public//logo.svg" />

                  <div class="watcal">WatCal</div>
                </div>
              </div>
              <div class="navigation-links">
                <div class="links-container">
                  <div class="text-button" id="textButton8">Home</div>
                  <div class="text-button1" id="textButton9">Help Desk</div>
                  <div class="text-button2" id="textButton10">About</div>
                  <div class="text-button3" id="textButton11">Security</div>
                  <div class="contact-us" id="contactUsText">Contact Us</div>
                </div>
              </div>
              <div class="login-signup">
                <div class="login-button-container-wrapper">
                  <div class="login-button-container">
                    <div class="text-button4">Sign Up</div>
                  </div>
                </div>
                <div class="button" id="buttonContainer">
                  <div class="text">Login</div>
                </div>
              </div>
            </div>
          </div>
          <div class="sign-up">
            <div class="signup-content">
              <div class="signup-heading-image">
                <div class="heading">
                  <p class="sign-up1">
                    <span class="sign-up2">
                      <span>Sign Up</span>
                    </span>
                  </p>
                  <p class="blank-line">
                    <span>
                      <span class="blank-line1">
                        <span>&nbsp;</span>
                      </span>
                    </span>
                  </p>
                  <p class="as-a-landlord">
                    <span>
                      <span class="as-a-landlord1">As a Landlord</span>
                    </span>
                  </p>
                </div>
                <img
                  class="abstract-design-icon"
                  loading="lazy"
                  alt=""
                  src="./public/tr.png"
                />
              </div>
              <p class="paragraph">
                Join our community today! Create an account to unlock exclusive
                features and personalized experiences.
              </p>
            </div>
            <div class="signup-form">
              <div class="form-container">
                <div class="username-email-input">
                  <b class="username">Username</b>
                  <b class="email">Email</b>
                </div>
              </div>
              <div class="frame-parent">
                <div class="rectangle-parent">
                  <div class="frame-child"></div>
                  
                  <input
                  class="melissa-peters"
                  placeholder="Melissa Peters"
                  type="text"
                  id="usernameInput"
                  required
                />
                </div>
                <div class="email-input">
                  <div class="rectangle-group">
                    <div class="frame-item"></div>
                    
                    <input
                    class="melpetersgmailcom"
                    placeholder="melpeters@gmail.com"
                    type="text"
                    id="emailInput"
                    required
                  />
                  </div>
                </div>
              </div>
              <div class="password-input">
                <div class="password-fields-wrapper">
                  <div class="password-fields">
                    <b class="enter-password">Enter password</b>
                    <b class="confirm-password">Confirm password</b>
                  </div>
                </div>
                <div class="password-visibility">
                  <div class="first-password-input">
                    <div class="component-10">
                      <div class="visibility-background"></div>
                      <div class="password-placeholder">
                        
                        <input
                        class="hidden-password"
                        placeholder="*********"
                        type="password"
                        id=""
                        required
                      />
                      </div>
                      <img class="eye-icon" alt="" src="./public/eye.svg" />
                    </div>
                    <div class="date-of-birth-input-parent">
                      <div class="date-of-birth-input">
                        <b class="date-of-birth">Date of Birth</b>
                      </div>
                      <div class="rectangle-container">
                        <div class="frame-inner"></div>
                        
                        <input
                        class="ddmmyyyy"
                        placeholder="DD/MM/YYYY"
                        type="text"
                        id="dateOfBirthInput"
                        required
                      />
                      </div>
                    </div>
                    <div class="address-input">
                      <div class="address-label">
                        <b class="house-address">House address</b>
                      </div>
                      <div class="group-div">
                        <div class="rectangle-div"></div>
                        <div class="optional-container">
                          
                          <input
                          class="optional"
                          placeholder="(Optional)"
                          type="text"
                          id="houseAddressInput"
                        />
                        </div>
                        <img
                          class="iconoutlinequestion"
                          alt=""
                          src="./public/icon/outline/question.svg"
                        />
                      </div>
                    </div>
                  </div>
                  <div class="meter-information">
                    <div class="component-101">
                      <div class="component-10-child"></div>
                      <div class="meter-input">
                        
                        <input
                        class="div"
                        placeholder="*********"
                        type="password"
                        id="passwordInput"
                        required
                      /> 
                      </div>
                      <img class="eye-icon1" alt="" src="./public/eye.svg" />
                    </div>
                    <div class="meter-fields">
                      <div class="serial-number-type">
                        <b class="meter-serial-number">Meter_Serial_Number</b>
                      </div>
                      <div class="rectangle-parent1">
                        <div class="frame-child1"></div>
                        
                        <input
                        class="xxxxxxx"
                        placeholder="131xxxxxxx"
                        type="text"
                        id="meterSerialNumberInput"
                        required
                      />
                      </div>
                    </div>
                    <div class="meter-fields1">
                      <div class="meter-type-wrapper">
                        <b class="meter-type">Meter_type</b>
                      </div>
                      <div class="rectangle-parent2">
                        <div class="frame-child2"></div>
                        <input
                          class="prepaidpostpaid"
                          placeholder="Prepaid/Postpaid"
                          type="text"
                          id="meterTypeInput"
                          required
                        />
                      </div>
                    </div>
                  </div>
                </div>
               </div>
               <div class="add-room-container-parent">
                <div class="add-room-container">
                  <div class="add-room-button">
                    <button class="addroombtn">
                      <img class="broom-icon" alt="" src="./public/br.svg" />

                      <div class="add-room-label">
                        <div class="add-room">Add room</div>
                      </div>
                    </button>
                  </div>
                  <!-- New room containers will be added here -->
                </div>
                  <div class="line"></div>
               </div>
                <div class="plan-selection">
                  <div class="plan-options">
                    <div class="plan-buttons">
                      <div class="button1" id="signupForm">
                        <div class="plan-name">Sign Up</div>
                      </div>
                    </div>
                    <div class="button-wrapper">
                      <div class="button2" id="text1">
                        <div class="text1" >Login</div>
                      </div>
                    </div>
                    <div class="plan-description">
                      <div class="line-wrapper">
                        <div class="line1"></div>
                      </div>
                      <div class="plan-description1">Or Continue with</div>
                      <div class="line-container">
                        <div class="line2"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="buttons-container-wrapper">
                  <div class="buttons-container">
                    <div class="icon-container">
                      <div class="button3">
                        <img class="icon" alt="" src="./public/google.svg" />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </section>
      <section class="footer-section">
        <div class="footer-content">
          <div class="footer-brand">
            <img class="logo-icon1" alt="" src="./public/biglogo.svg" />

            <div class="watcal1">WatCal</div>
          </div>
        </div>
        <div class="footer-navigation">
          <div class="footer-links">
            <div class="text-button5" id="buttontext">Home</div>
            <div class="text-button6" id="textButton1">Help Desk</div>
            <div class="text-button7" id="textButton2">About</div>
            <div class="text-button8" id="textButton3">Security</div>
          </div>
        </div>
        <div class="line3"></div>
        <div class="footer-contact">
          <div class="contact-info">
            <div class="button4">
              <div class="social-button">
                <img class="icon1" alt="" src="./public/mail.svg" />
              </div>
              <div class="text-button9">manuelansah955@gmail.com</div>
            </div>
            <div class="button5">
              <div class="icon-wrapper">
                <img class="icon2" alt="" src="./public/phone.svg" />
              </div>
              <div class="text-button10">+233 59 829 6141</div>
            </div>
          </div>
        </div>
        <div class="line4"></div>
        <div class="container">
          <div class="legal-wrapper">
            <div class="legal">WatCal All Rights Reserved</div>
          </div>
          <div class="language-selector">
            <div class="button6">
              <img class="icon3" alt="" src="./public/facebook.svg" />
            </div>
            <div class="button7">
              <img class="icon4" alt="" src="./public/twitter.svg" />
            </div>
            <div class="button8">
              <img class="icon5" alt="" src="./public/linkedin.svg" />
            </div>
          </div>
          <div class="policy-links">
            <div class="text-button-parent">
              <div class="text-button11" id="textButton6">Privacy Policy</div>
              <div class="language-divider"></div>
              <div class="text-button12" id="textButton7">Terms of Service</div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <script>
      var textButton = document.getElementById("textButton8");
      if (textButton) {
        textButton.addEventListener("click", function (e) {
          window.location.href = "Home.html";
        });
      }
      
      var buttontext = document.getElementById("buttontext");
      if (buttontext) {
        buttontext.addEventListener("click", function (e) {
          window.location.href = "Home.html";
        });
      }
      
      var textButton1 = document.getElementById("textButton9");
      if (textButton1) {
        textButton1.addEventListener("click", function (e) {
          window.location.href = "Helpdesk.html";
        });
      }
      
      var textButton2 = document.getElementById("textButton10");
      if (textButton2) {
        textButton2.addEventListener("click", function (e) {
          window.location.href = "About.html"; 
        });
      }
      
      var textButton3 = document.getElementById("textButton11");
      if (textButton3) {
        textButton3.addEventListener("click", function (e) {
          window.location.href = "Security.html";
        });
      }
      
      var contactUsText = document.getElementById("contactUsText");
      if (contactUsText) {
        contactUsText.addEventListener("click", function (e) {
          window.location.href = "Contactus.html";
        });
      }
      
      var buttonContainer = document.getElementById("buttonContainer");
      if (buttonContainer) {
        buttonContainer.addEventListener("click", function (e) {
          window.location.href = "Login.html";
        });
      }
      var text1 = document.getElementById("text1");
      if (text1) {
        text1.addEventListener("click", function (e) {
          window.location.href = "Login.html";
        });
      }
      
      var textButton5 = document.getElementById("textButton1");
      if (textButton5) {
        textButton5.addEventListener("click", function (e) {
          window.location.href = "Helpdesk.html";
        });
      }
      
      var textButton6 = document.getElementById("textButton2");
      if (textButton6) {
        textButton6.addEventListener("click", function (e) {
          window.location.href = "About.html"; 
        });
      }
      
      var textButton7 = document.getElementById("textButton3");
      if (textButton7) {
        textButton7.addEventListener("click", function (e) {
          window.location.href = "Security.html";
        });
      }
      
      var textButton10 = document.getElementById("textButton6");
      if (textButton10) {
        textButton10.addEventListener("click", function (e) {
          window.location.href = "Privacy.html";
        });
      }
      
      var textButton11 = document.getElementById("textButton7");
      if (textButton11) {
        textButton11.addEventListener("click", function (e) {
          window.location.href = "Terms.html";
        });
      }
      </script>
 
      <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("signupForm");
    
            form.addEventListener("submit", function (event) {
                event.preventDefault(); // Prevent the default form submission
    
                // Get form input values
                const userData = {
                    username: document.getElementById("usernameInput").value,
                    email: document.getElementById("emailInput").value,
                    password: document.getElementById("passwordInput").value,
                    dateOfBirth: document.getElementById("dateOfBirthInput").value,
                    houseAddress: document.getElementById("houseAddressInput").value,
                    meterType: document.getElementById("meterTypeInput").value,
                    meterSerialNumber: document.getElementById("meterSerialNumberInput").value,
                    numberOfRooms: document.getElementById("numberOfRoomsInput").value,
                    type_name:Landlord
                };
               
                // Validate email format
                if (!validateEmail(email)) {
                    alert("Please enter a valid email address.");
                    return; // Stop further execution if email is invalid
                }
    
                // Validate password and confirm password match
                if (password !== confirmPassword) {
                    alert("Passwords do not match.");
                    return; // Stop further execution if passwords do not match
                }

                // Make a POST request to the signup endpoint
                fetch('.../Server/signup_form', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(userData),
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to sign up user');
                    }
                    return response.text(); // Assuming the backend sends a text response
                })
                .then(data => {
                    // Handle successful response from the backend
                    console.log(data);
                })
                .catch(error => {
                    // Handle errors
                    console.error('Error signing up user:', error);
                });

                form.reset();
            });
    
            // Function to validate email format
            function validateEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }
        });
      </script>
      <script>
        document.querySelector('.addroombtn').addEventListener('click', addRoom);
  
        let roomIndex = 1;
  
        function addRoom() {
          const container = document.createElement('div');
          container.className = 'room-container';
  
          const label = document.createElement('label');
          label.className = 'room-label';
          label.innerText = `Room ${roomIndex}`;
  
          const input = document.createElement('input');
          input.className = 'room-input';
          input.type = 'text';
          input.placeholder = ` Enter room name`;
  
          container.appendChild(label);
          container.appendChild(input);
  
          document.querySelector('.add-room-container').appendChild(container);
  
          roomIndex++;
        }
      </script>
  </body>
</html>  
    

