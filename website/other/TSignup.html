<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <link rel="stylesheet" href="./TSignupIndex.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500&display=swap"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700&display=swap"
    />
    <title>Signup</title>
  </head>
  <body>
    <div class="sign-up-page-desktop">
      <header class="navbar-wrapper">
        <div class="navbar">
          <div class="navbar-content">
            <div class="logo-container">
              <img class="logo-icon" alt="" src="./public/logo.svg" />

              <div class="watcal">WatCal</div>
            </div>
          </div>
          <div class="nav-buttons">
            <div class="nav-buttons-content">
              <div class="text-button" id="textButton8">Home</div>
              <div class="text-button1" id="textButton9">Help Desk</div>
              <div class="text-button2" id="textButton10">About</div>
              <div class="text-button3" id="textButton11">Security</div>
              <div class="contact-us" id="contactUsText">Contact Us</div>
            </div>
          </div>
          <div class="user-actions">
            <div class="user-actions-content">
              <div class="login-button-container">
                <div class="text-button4">Sign Up</div>
              </div>
            </div>
            <div class="button" id="buttonContainer">
              <div class="text">Login</div>
            </div>
          </div>
        </div>
      </header>
      <section class="content">
        <div class="sign-up">
          <div class="form-content">
            <div class="form-header">
              <div class="heading">
                <p class="sign-up1">
                  <span class="sign-up2">
                    <span>Sign Up</span>
                  </span>
                </p>
                <p class="blank-line">
                  <span>
                    <span class="blank-line1">
                      <span>&nbsp;</span>
                    </span>
                  </span>
                </p>
                <p class="as-a-tenant">
                  <span>
                    <span class="as-a-tenant1">As a Tenant</span>
                  </span>
                </p>
              </div>
              <img
                class="abstract-design-icon"
                loading="lazy"
                alt=""
                src="./public/tr.png"
              />
            </div>
            <p class="paragraph">
              Join our community today! Create an account to unlock exclusive
              features and personalized experiences.
            </p>
          </div>
          <div class="form-inputs">
            <div class="input-fields">
              <div class="credentials-input">
                <div class="credential-labels">
                  <b class="username">Username</b>
                  <b class="email">Email</b>
                </div>
              </div>
              <div class="username-input">
                <div class="rectangle-parent">
                  <div class="frame-child"></div>
                  <input
                    class="melissa-peters"
                    placeholder="Melissa Peters"
                    type="text"
                  />
                </div>
                <div class="email-input">
                  <div class="rectangle-group">
                    <div class="frame-item"></div>
                    <input
                      class="melpetersgmailcom"
                      placeholder="melpeters@gmail.com"
                      type="text"
                    />
                  </div>
                </div>
              </div>
            </div>
            <div class="password-input">
              <div class="password-fields">
                <div class="password-labels">
                  <b class="enter-password">Enter password</b>
                  <b class="confirm-password">Confirm password</b>
                </div>
              </div>
              <div class="enter-password1">
                <div class="password-input-container">
                  <div class="component-10">
                    <div class="password-background"></div>
                    <div class="password-strength">
                      
                      <input
                      class="div"
                      placeholder="*********"
                      type="password"
                    />
                    </div>
                    <img class="eye-icon" alt="" src="./public/eye.svg" />
                  </div>
                  <div class="date-of-birth-input">
                    <div class="date-of-birth-label">
                      <b class="date-of-birth">Date of Birth</b>
                    </div>
                    <div class="rectangle-container">
                      <div class="frame-inner"></div>
                      <input
                        class="ddmmyyyy"
                        placeholder="DD/MM/YYYY"
                        type="text"
                      />
                    </div>
                  </div>
                  <div class="address-input">
                    <div class="address-label">
                      <b class="house-address">House address</b>
                    </div>
                    <div class="group-div">
                      <div class="rectangle-div"></div>
                      <div class="optional-tag">
                        
                        <input
                        class="optional"
                        placeholder="(Optional)"
                        type="text"
                      />
                      </div>
                      <img
                        class="iconoutlinequestion"
                        loading="lazy"
                        alt=""
                        src="./public/icon/outline/question.svg"
                      />
                    </div>
                  </div>
                </div>
                <div class="meter-details-input">
                  <div class="component-101">
                    <div class="meter-password-background"></div>
                    <div class="meter-password-strength">
                      
                      <input
                      class="div1"
                      placeholder="*********"
                      type="password"
                    /> 
                    </div>
                    <img class="eye-icon1" alt="" src="./public/eye.svg" />
                  </div>
                  <div class="meter-details-labels">
                    <div class="meter-details-types">
                      <b class="meter-serial-number">Meter_Serial_Number</b>
                    </div>
                    <div class="rectangle-parent1">
                      <div class="frame-child1"></div>
                      <input
                        class="xxxxxxx"
                        placeholder="131xxxxxxx"
                        type="text"
                      />
                    </div>
                  </div>
                  <div class="meter-details-labels1">
                    <div class="meter-type-wrapper">
                      <b class="meter-type">Meter_type</b>
                    </div>
                    <div class="rectangle-parent2">
                      <div class="frame-child2"></div>
                      <input
                        class="prepaidpostpaid"
                        placeholder="Prepaid/Postpaid"
                        type="text"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="input-separator">
              <div class="line"></div>
            </div>
            <div class="actions-content-wrapper">
              <div class="actions-content">
                <div class="action-buttons">
                  <div class="buttons-and-agreement">
                    <div class="agreement-buttons">
                      <button class="button1">
                        <div class="text1">Sign Up</div>
                      </button>
                    </div>
                    <div class="agreement-buttons1">
                      <button class="button2" id="text3">
                        <div class="text2">Login</div>
                      </button>
                    </div>
                    <div class="terms-container">
                      <div class="terms-separators-wrapper">
                        <div class="terms-separators"></div>
                      </div>
                      <div class="text3">Or Continue with</div>
                      <div class="line-wrapper">
                        <div class="line1"></div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="buttons-container">
                  <div class="icon-container">
                    <div class="button3">
                      <img
                        class="icon"
                        loading="lazy"
                        alt=""
                        src="./public/google.svg"
                      />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section class="footer-section">
        <div class="footer-content">
          <div class="footer-branding">
            <img class="logo-icon1" alt="" src="./public/biglogo.svg" />

            <div class="watcal1">WatCal</div>
          </div>
        </div>
        <div class="footer-links">
          <div class="footer-links-content">
            <div class="text-button5" id="buttontext">Home</div>
            <div class="text-button6" id="textButton1">Help Desk</div>
            <div class="text-button7" id="textButton2">About</div>
            <div class="text-button8" id="textButton3">Security</div>
          </div>
        </div>
        <div class="line2"></div>
        <div class="footer-actions">
          <div class="footer-action-buttons">
            <div class="button4">
              <div class="footer-action-icons">
                <img class="icon1" alt="" src="./public/mail.svg" />
              </div>
              <div class="text-button9">manuelansah955@gmail.com</div>
            </div>
            <div class="button5">
              <div class="icon-wrapper">
                <img class="icon2" alt="" src="./public/phone.svg" />
              </div>
              <div class="text-button10">+233 59 829 6141</div>
            </div>
          </div>
        </div>
        <div class="line3"></div>
        <footer class="container">
          <div class="copyright-wrapper">
            <div class="copyright">WatCal All Rights Reserved</div>
          </div>
          <div class="social-media-icons">
            <div class="button6">
              <img class="icon3" alt="" src="./public/facebook.svg" />
            </div>
            <div class="button7">
              <img class="icon4" alt="" src="./public/twitter.svg" />
            </div>
            <div class="button8">
              <img class="icon5" alt="" src="./public/linkedin.svg" />
            </div>
          </div>
          <div class="contact-us-footer">
            <div class="contact-options">
              <div class="text-button11" id="textButton6">Privacy Policy</div>
              <div class="contact-separator"></div>
              <div class="text-button12" id="textButton7">Terms of Service</div>
            </div>
          </div>
        </footer>
      </section>
    </div>

    <script>
      var textButton = document.getElementById("textButton8");
      if (textButton) {
        textButton.addEventListener("click", function (e) {
          window.location.href = "Home.html";
        });
      }
      
      var textButton1 = document.getElementById("textButton9");
      if (textButton1) {
        textButton1.addEventListener("click", function (e) {
          window.location.href = "Helpdesk.html";
        });
      }
      
      var textButton2 = document.getElementById("textButton10");
      if (textButton2) {
        textButton2.addEventListener("click", function (e) {
          window.location.href = "About.html"; 
        });
      }
      
      var textButton3 = document.getElementById("textButton11");
      if (textButton3) {
        textButton3.addEventListener("click", function (e) {
          window.location.href = "Security.html";
        });
      }
      
       var buttontext = document.getElementById("buttontext");
      if (buttontext) {
        buttontext.addEventListener("click", function (e) {
          window.location.href = "Home.html";
        });
      }
      
      var contactUsText = document.getElementById("contactUsText");
      if (contactUsText) {
        contactUsText.addEventListener("click", function (e) {
          window.location.href = "Contactus.html";
        });
      }
      
      var text3 = document.getElementById("text3");
      if (text3) {
        text3.addEventListener("click", function (e) {
          window.location.href = "Login.html"; 
        });
      }
      var buttonContainer = document.getElementById("buttonContainer");
      if (buttonContainer) {
        buttonContainer.addEventListener("click", function (e) {
          window.location.href = "Login.html"; 
        });
      }
      
      var textButton5 = document.getElementById("textButton1");
      if (textButton5) {
        textButton5.addEventListener("click", function (e) {
          window.location.href = "Helpdesk.html";
        });
      }
      
      var textButton6 = document.getElementById("textButton2");
      if (textButton6) {
        textButton6.addEventListener("click", function (e) {
          window.location.href = "About.html"; 
        });
      }
      
      var textButton7 = document.getElementById("textButton3");
      if (textButton7) {
        textButton7.addEventListener("click", function (e) {
          window.location.href = "Security.html";
        });
      }
      
      var textButton10 = document.getElementById("textButton6");
      if (textButton10) {
        textButton10.addEventListener("click", function (e) {
          window.location.href = "Privacy.html";
        });
      }
      
      var textButton11 = document.getElementById("textButton7");
      if (textButton11) {
        textButton11.addEventListener("click", function (e) {
          window.location.href = "Terms.html";
        });
      }
      </script>

      <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("signupForm");
    
            form.addEventListener("submit", function (event) {
                event.preventDefault(); // Prevent the default form submission
    
                // Get form input values
                const userData = {
                    username: document.getElementById("usernameInput").value,
                    email: document.getElementById("emailInput").value,
                    password: document.getElementById("passwordInput").value,
                    dateOfBirth: document.getElementById("dateOfBirthInput").value,
                    houseAddress: document.getElementById("houseAddressInput").value,
                    meterType: document.getElementById("meterTypeInput").value,
                    meterSerialNumber: document.getElementById("meterSerialNumberInput").value,
                    User_type: Tenant 
                };
               
                // Validate email format
                if (!validateEmail(email)) {
                    alert("Please enter a valid email address.");
                    return; // Stop further execution if email is invalid
                }
    
                // Validate password and confirm password match
                if (password !== confirmPassword) {
                    alert("Passwords do not match.");
                    return; // Stop further execution if passwords do not match
                }

                // Make a POST request to the signup endpoint
                fetch('.../Server/signup_form', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(userData),
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to sign up user');
                    }
                    return response.text(); // Assuming the backend sends a text response
                })
                .then(data => {
                    // Handle successful response from the backend
                    console.log(data);
                })
                .catch(error => {
                    // Handle errors
                    console.error('Error signing up user:', error);
                });

                form.reset();
            });
    
            // Function to validate email format
            function validateEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }
        });
      </script>
  </body>
</html>
